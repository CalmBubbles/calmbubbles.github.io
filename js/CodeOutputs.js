Data.Once("OnDataLoad",(()=>{CodeOutputs.Set()}));class CodeOutputs{static#t=[];static#e=null;static#c=class{#i=!1;#s=1;#r=null;#o=null;constructor(t,e,c,i,s,r,o){if(this.src=e,this.width=i,this.height=s,this.relHeight=r,this.initialScale=o??1,this.#r=document.querySelector(`#codeOutput_${t}`),c){const t=document.createElement("div");t.classList.add("textbtn","coderefresh"),t.textContent="Run",t.onclick=()=>{this.RunOutput(),t.onclick=()=>this.#o.contentWindow.location.reload(),t.textContent="Refresh"},this.#r.append(t)}else this.RunOutput()}RunOutput(){if(this.#i)return;const t=[document.createElement("div"),document.createElement("div")];t[0].classList.add("textbtn","codedec"),t[1].classList.add("textbtn","codeinc"),t[0].append("Size -"),t[1].append("Size +"),t[0].onclick=()=>this.SizeDown(),t[1].onclick=()=>this.SizeUp();const e=document.createElement("div");this.#o=document.createElement("iframe"),e.classList.add("codeframe"),this.#o.src=this.src,null!=this.width&&("full"===this.width&&(this.#r.style.width="85%"),this.#o.style.width="full"===this.width?"100%":this.width),null!=this.relHeight?Loop.Append((()=>this.#o.style.height=this.#o.clientWidth*this.relHeight*.01+"px")):null!=this.height&&(this.#o.style.height=this.height),e.append(this.#o);const c=document.createElement("div");c.style.textAlign="right";const i=document.createElement("a");i.href=this.src,i.target="_blank",i.rel="noreferrer noopener",i.append("Sourceâ†—"),c.append(i),this.#r.append(t[0],t[1],e,c),this.RescaleTo(this.initialScale),this.#i=!0}RescaleTo(t){switch(this.#s=t,t<1?this.#o.style.transformOrigin="center":t>1&&(this.#o.style.transformOrigin="0 0"),this.#o.style.transform=`scale(${t}, ${t})`,this.#s){case.125:return this.#r.querySelector(".codedec").onclick=()=>{},this.#r.querySelector(".codedec").style.cursor="default",void(this.#r.querySelector(".codedec").style.opacity=.5);case 2:return this.#r.querySelector(".codeinc").onclick=()=>{},this.#r.querySelector(".codeinc").style.cursor="default",void(this.#r.querySelector(".codeinc").style.opacity=.5)}this.#r.querySelector(".codedec").onclick=()=>this.SizeDown(),this.#r.querySelector(".codeinc").onclick=()=>this.SizeUp(),this.#r.querySelector(".codedec").style.cursor="pointer",this.#r.querySelector(".codeinc").style.cursor="pointer",this.#r.querySelector(".codedec").style.opacity=1,this.#r.querySelector(".codeinc").style.opacity=1}SizeDown(){this.RescaleTo(this.#s-.125)}SizeUp(){this.RescaleTo(this.#s+.125)}};static Set(){this.#e=document.querySelectorAll(".codeoutputframe");for(let t=0;t<this.#e.length;t++){for(;null!=this.#e[t].firstChild;)this.#e[t].firstChild.remove();this.#e[t].id=`codeOutput_${t}`;const e=this.#e[t].getAttribute("data-src"),c=this.#e[t].getAttribute("data-refreshable")??!1,i=this.#e[t].getAttribute("data-width"),s=this.#e[t].getAttribute("data-height"),r=this.#e[t].getAttribute("data-relHeight"),o=this.#e[t].getAttribute("data-scale");this.#t.push(new this.#c(t,e,c,i,s,r,o))}}}